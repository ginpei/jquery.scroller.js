jQuery.scroller=function(document){var scroller=$({});var elHtml=document.documentElement;var elBody=document.body;var elScrollable=navigator.userAgent.indexOf("WebKit")<0?elHtml:elBody;scroller.marginBottom=0;scroller.initialize=function(){scroller.updateWindowInformations();$(window).on("scroll",function(event){scroller.onscroll(event)}).on("resize",function(event){scroller.updateWindowInformations(event)});delete scroller.initialize};scroller.onscroll=function(event){scroller.top=elScrollable.scrollTop;scroller.trigger("scroll",event);if(this.isOnBottom()){scroller.trigger("scrolltoend",event)}};scroller.isOnBottom=function(){return this.top+this.windowHeight+this.marginBottom>=this.height};scroller.updateWindowInformations=function(){this.height=elBody.scrollHeight;this.windowHeight=elHtml.clientHeight};scroller.initialize();return scroller}(document);