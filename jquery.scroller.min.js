jQuery.scroller=function(document){var scroller=$({});var elHtml=document.documentElement;var elScrollable=navigator.userAgent.indexOf("WebKit")<0?elHtml:document.body;scroller.marginBottom=0;scroller.initialize=function(){scroller.updateWindowInformations();if(window.addEventListener){window.addEventListener("scroll",function(event){scroller.onscroll(event)});window.addEventListener("resize",function(event){scroller.updateWindowInformations(event)})}else{$(window).on("scroll",function(event){scroller.onscroll(event)}).on("resize",function(event){scroller.updateWindowInformations(event)})}delete scroller.initialize};scroller.onscroll=function(event){scroller.top=elScrollable.scrollTop;scroller.trigger("scroll",event);if(this.isOnBottom()){scroller.trigger("scrolltoend",event)}};scroller.isOnBottom=function(){return this.top+this.windowHeight+this.marginBottom>=this.pageHeight};scroller.updateWindowInformations=function(){this.pageHeight=elScrollable.scrollHeight;this.windowHeight=elHtml.clientHeight};scroller.initialize();return scroller}(document);